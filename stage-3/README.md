# Minic阶段3：乘法实现

## 🎯 学习目标
- 添加乘法运算符支持
- 理解运算符优先级
- 掌握复杂表达式解析

## 🚀 快速开始

### 获取阶段3代码
```bash
git clone https://github.com/zhnt/minic-s3.git
cd minic-s3
make
```

### 测试乘法功能
```bash
echo "3 * 4" | ./build/minic  # 12.00
echo "2 * 3 * 4" | ./build/minic  # 24.00
```

## 📚 15分钟扩展指南

### 第1步：理解优先级概念（5分钟）
在数学中：
- 乘法优先级高于加减法
- `2 + 3 * 4` = `2 + (3 * 4)` = 14

### 第2步：实现乘法运算（5分钟）
需要修改：
- `src/lexer.c` - 添加STAR token
- `src/parser.c` - 处理乘法优先级
- `src/compiler.c` - 生成乘法字节码

### 第3步：验证优先级（5分钟）
```bash
# 测试优先级
echo "2 + 3 * 4" | ./build/minic  # 14.00 (不是20.00)
echo "(2 + 3) * 4" | ./build/minic  # 20.00
```

## 🔍 实现重点

### 1. 乘法token
```c
TOKEN_STAR,  // 乘号 *
```

### 2. 优先级处理
```c
// 乘法优先级高于加减法
// 需要调整语法规则
```

### 3. 测试验证
```bash
# 复杂表达式
echo "1 + 2 * 3 - 4" | ./build/minic  # 3.00
```

## 🎯 完成标准
- [ ] 成功实现乘法运算
- [ ] 正确处理运算符优先级
- [ ] 通过所有测试用例

## 📋 测试用例
```bash
# 基础乘法
echo "5 * 6" | ./build/minic  # 30.00

# 优先级测试
echo "10 + 2 * 3" | ./build/minic  # 16.00

# 括号测试
echo "(10 + 2) * 3" | ./build/minic  # 36.00
```

## 📋 解锁下一阶段
完成本阶段后，老师会发布阶段4的代码。

## 📊 当前阶段信息
- **阶段**：3/12
- **功能**：乘法实现
- **时间**：20分钟学习
- **状态**：已解锁

---
**记住：优先级是编译器设计的核心概念！**